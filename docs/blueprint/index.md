# Table of Contents

1. [Introduction](01-introduction.md#1-introduction)

- [1.1 Purpose](01-introduction.md#11-purpose)
- [1.2 Core Objectives](01-introduction.md#12-core-objectives)
- [1.3 Target Use Cases](01-introduction.md#13-target-use-cases)

2. [Coding Style & Conventions](02-coding-style-conventions.md#2-coding-style-conventions)

- [2.1 Overview](02-coding-style-conventions.md#21-overview)
- [2.2 General Conventions](02-coding-style-conventions.md#22-general-conventions)
- [2.3 Formatting and Layout](02-coding-style-conventions.md#23-formatting-and-layout)
- [2.4 Naming Conventions](02-coding-style-conventions.md#24-naming-conventions)
- [2.5 Logging (LoggerMessage Source Generator Pattern)](02-coding-style-conventions.md#25-logging-loggermessage-source-generator-pattern)
- [2.6 Disposal Pattern](02-coding-style-conventions.md#26-disposal-pattern)
- [2.7 StyleCop Enforcement Summary](02-coding-style-conventions.md#27-stylecop-enforcement-summary)
- [2.8 StyleCop Configuration (`stylecop.json`)](02-coding-style-conventions.md#28-stylecop-configuration-stylecopjson)

3. [System Architecture](03-system-architecture.md#3-system-architecture)

- [3.1 High-Level Architecture](03-system-architecture.md#31-high-level-architecture)
- [3.1.1 Component Diagram (Logical Layers in Single Project)](03-system-architecture.md#311-component-diagram-logical-layers-in-single-project)
- [3.1.2 Communication Flow Example (MQTT Play Command)](03-system-architecture.md#312-communication-flow-example-mqtt-play-command)
- [3.2 Key Components (Roles within Folders)](03-system-architecture.md#32-key-components-roles-within-folders)
- [3.2.1 `/Core` Layer](03-system-architecture.md#321-core-layer)
- [3.2.2 `/Server` Layer](03-system-architecture.md#322-server-layer)
- [3.2.3 `/Infrastructure` Layer](03-system-architecture.md#323-infrastructure-layer)
- [3.2.4 `/Api` Layer](03-system-architecture.md#324-api-layer)
- [3.2.5 `/Worker` Layer](03-system-architecture.md#325-worker-layer)

4. [Core Components & State Management](04-core-components-state-management.md#4-core-components-state-management)

- [4.1 Core Structure Overview](04-core-components-state-management.md#41-core-structure-overview)
- [4.2 State Management](04-core-components-state-management.md#42-state-management)
- [4.2.1 Immutable State Objects (Canonical Definitions)](04-core-components-state-management.md#421-immutable-state-objects-canonical-definitions)
- [4.2.2 Thread Synchronization](04-core-components-state-management.md#422-thread-synchronization)
- [4.2.3 State Types Managed & Ownership](04-core-components-state-management.md#423-state-types-managed-ownership)
- [4.2.4 State Change Flow](04-core-components-state-management.md#424-state-change-flow)
- [4.3 Event-Driven Architecture](04-core-components-state-management.md#43-event-driven-architecture)
- [4.4 Startup Sequence](04-core-components-state-management.md#44-startup-sequence)
- [4.5 Error Handling Strategy](04-core-components-state-management.md#45-error-handling-strategy)

5. [Cross-Cutting Concerns](05-cross-cutting-concerns.md#5-cross-cutting-concerns)

- [5.1 Error Handling Strategy](05-cross-cutting-concerns.md#51-error-handling-strategy)
- [5.1.1 Result Pattern Implementation (Canonical Definition)](05-cross-cutting-concerns.md#511-result-pattern-implementation-canonical-definition)
- [5.1.2 Usage in Services](05-cross-cutting-concerns.md#512-usage-in-services)
- [5.2 Logging Strategy](05-cross-cutting-concerns.md#52-logging-strategy)
- [5.3 Instrumentation and Metrics](05-cross-cutting-concerns.md#53-instrumentation-and-metrics)
- [5.4 Validation](05-cross-cutting-concerns.md#54-validation)
- [5.5 Interplay](05-cross-cutting-concerns.md#55-interplay)

6. [Resilience Configuration System](06-resilience-configuration.md#6-resilience-configuration-system)

- [6.1 Overview](06-resilience-configuration.md#61-overview)
- [6.2 Architecture Overview](06-resilience-configuration.md#62-architecture-overview)
- [6.2.1 Resilience Configuration Structure](06-resilience-configuration.md#621-resilience-configuration-structure)
- [6.2.2 Policy Types](06-resilience-configuration.md#622-policy-types)
- [6.2.3 Resilience Policy Factory](06-resilience-configuration.md#623-resilience-policy-factory)
- [6.3 Environment Variable Structure](06-resilience-configuration.md#63-environment-variable-structure)
- [6.3.1 Variable Naming Convention](06-resilience-configuration.md#631-variable-naming-convention)
- [6.3.2 KNX Service Resilience Configuration](06-resilience-configuration.md#632-knx-service-resilience-configuration)
- [6.3.2.1 Connection Policy Environment Variables](06-resilience-configuration.md#6321-connection-policy-environment-variables)
- [6.3.2.2 Operation Policy Environment Variables](06-resilience-configuration.md#6322-operation-policy-environment-variables)
- [6.3.3 MQTT Service Resilience Configuration](06-resilience-configuration.md#633-mqtt-service-resilience-configuration)
- [6.3.3.1 Connection Policy Environment Variables](06-resilience-configuration.md#6331-connection-policy-environment-variables)
- [6.3.3.2 Operation Policy Environment Variables](06-resilience-configuration.md#6332-operation-policy-environment-variables)
- [6.3.4 Snapcast Service Resilience Configuration](06-resilience-configuration.md#634-snapcast-service-resilience-configuration)
- [6.3.4.1 Connection Policy Environment Variables](06-resilience-configuration.md#6341-connection-policy-environment-variables)
- [6.3.4.2 Operation Policy Environment Variables](06-resilience-configuration.md#6342-operation-policy-environment-variables)
- [6.4 Configuration Classes](06-resilience-configuration.md#64-configuration-classes)
- [6.4.1 ResilienceConfig Class](06-resilience-configuration.md#641-resilienceconfig-class)
- [6.4.2 PolicyConfig Class](06-resilience-configuration.md#642-policyconfig-class)
- [6.5 Service Integration](06-resilience-configuration.md#65-service-integration)
- [6.5.1 Service Implementation Pattern](06-resilience-configuration.md#651-service-implementation-pattern)
- [6.5.2 Configuration Validation](06-resilience-configuration.md#652-configuration-validation)
- [6.6 Backoff Strategies](06-resilience-configuration.md#66-backoff-strategies)
- [6.6.1 Linear Backoff](06-resilience-configuration.md#661-linear-backoff)
- [6.6.2 Exponential Backoff](06-resilience-configuration.md#662-exponential-backoff)
- [6.6.3 Constant Backoff](06-resilience-configuration.md#663-constant-backoff)
- [6.7 Environment-Specific Configurations](06-resilience-configuration.md#67-environment-specific-configurations)
- [6.7.1 Development Environment](06-resilience-configuration.md#671-development-environment)
- [6.7.2 Production Environment](06-resilience-configuration.md#672-production-environment)
- [6.7.3 High-Latency Network Environment](06-resilience-configuration.md#673-high-latency-network-environment)
- [6.8 Docker Compose Integration](06-resilience-configuration.md#68-docker-compose-integration)
- [6.8.1 Production Docker Compose Example](06-resilience-configuration.md#681-production-docker-compose-example)
- [6.9 Monitoring and Observability](06-resilience-configuration.md#69-monitoring-and-observability)
- [6.9.1 Resilience Metrics](06-resilience-configuration.md#691-resilience-metrics)
- [6.9.2 Logging Integration](06-resilience-configuration.md#692-logging-integration)
- [6.10 Performance Considerations](06-resilience-configuration.md#610-performance-considerations)
- [6.10.1 Impact Analysis](06-resilience-configuration.md#6101-impact-analysis)
- [6.10.2 Tuning Guidelines](06-resilience-configuration.md#6102-tuning-guidelines)
- [6.11 Benefits](06-resilience-configuration.md#611-benefits)
- [6.11.1 Operational Flexibility](06-resilience-configuration.md#6111-operational-flexibility)
- [6.11.2 Reliability Improvements](06-resilience-configuration.md#6112-reliability-improvements)
- [6.11.3 Maintainability](06-resilience-configuration.md#6113-maintainability)

7. [Fault Tolerance Implementation (Infrastructure Layer)](07-fault-tolerance-implementation-infrastructure-layer.md#7-fault-tolerance-implementation-infrastructure-layer)

- [7.1 Overview](07-fault-tolerance-implementation-infrastructure-layer.md#71-overview)
- [7.2 Polly Integration and Policy Definitions](07-fault-tolerance-implementation-infrastructure-layer.md#72-polly-integration-and-policy-definitions)
- [7.3 Resilience Strategies for Key Components](07-fault-tolerance-implementation-infrastructure-layer.md#73-resilience-strategies-for-key-components)
- [7.3.1 Snapcast Service Resilience (`SnapcastService`)](07-fault-tolerance-implementation-infrastructure-layer.md#731-snapcast-service-resilience-snapcastservice)
- [7.3.2 MQTT Service Resilience (`MqttService`)](07-fault-tolerance-implementation-infrastructure-layer.md#732-mqtt-service-resilience-mqttservice)
- [7.3.3 KNX Service Resilience (`KnxService`)](07-fault-tolerance-implementation-infrastructure-layer.md#733-knx-service-resilience-knxservice)
- [7.3.4 HTTP Client Resilience (Subsonic, etc.)](07-fault-tolerance-implementation-infrastructure-layer.md#734-http-client-resilience-subsonic-etc)
- [7.4 Resilience Registration in DI Container](07-fault-tolerance-implementation-infrastructure-layer.md#74-resilience-registration-in-di-container)

8. [Security Implementation (API Layer)](08-security-implementation-api-layer.md#8-security-implementation-api-layer)

- [8.1 Security Philosophy & Threat Model](08-security-implementation-api-layer.md#81-security-philosophy-threat-model)
- [8.2 API Key Authentication](08-security-implementation-api-layer.md#82-api-key-authentication)
- [8.2.1 API Key Configuration](08-security-implementation-api-layer.md#821-api-key-configuration)
- [8.2.2 API Key Authentication Implementation (ASP.NET Core)](08-security-implementation-api-layer.md#822-api-key-authentication-implementation-aspnet-core)
- [8.2.3 API Security Registration (ASP.NET Core)](08-security-implementation-api-layer.md#823-api-security-registration-aspnet-core)
- [8.3 Security Best Practices Applied](08-security-implementation-api-layer.md#83-security-best-practices-applied)
- [8.4 Security Logging (`ISecurityLogger` / `SecurityLogger`)](08-security-implementation-api-layer.md#84-security-logging-isecuritylogger-securitylogger)

9. [Configuration System](10-configuration-system.md#9-configuration-system)

- [9.1 Architecture Overview](10-configuration-system.md#91-architecture-overview)
- [9.1.1 Unified Configuration Structure](10-configuration-system.md#911-unified-configuration-structure)
- [9.1.2 EnvoyConfig Features Utilized](10-configuration-system.md#912-envoyconfig-features-utilized)
- [9.2 Environment Variable Structure](10-configuration-system.md#92-environment-variable-structure)
- [9.2.1 System Configuration](10-configuration-system.md#921-system-configuration)
- [9.2.2 Telemetry Configuration](10-configuration-system.md#922-telemetry-configuration)
- [9.2.3 API Configuration](10-configuration-system.md#923-api-configuration)
- [9.2.4 Services Configuration](10-configuration-system.md#924-services-configuration)
- [9.2.4.1 Streamlined Audio Configuration](10-configuration-system.md#9241-streamlined-audio-configuration)
9. [KNX Connection Policy (for establishing connections)](10-configuration-system.md#9-knx-connection-policy-for-establishing-connections)

9. [KNX Operation Policy (for individual operations)](10-configuration-system.md#9-knx-operation-policy-for-individual-operations)

9. [MQTT Connection Policy](10-configuration-system.md#9-mqtt-connection-policy)

9. [MQTT Operation Policy](10-configuration-system.md#9-mqtt-operation-policy)

9. [Snapcast Connection Policy](10-configuration-system.md#9-snapcast-connection-policy)

9. [Snapcast Operation Policy](10-configuration-system.md#9-snapcast-operation-policy)

9. [Zone 1 Configuration](10-configuration-system.md#9-zone-1-configuration)

9. [Zone 1 MQTT Configuration](10-configuration-system.md#9-zone-1-mqtt-configuration)

9. [Zone 1 KNX Configuration](10-configuration-system.md#9-zone-1-knx-configuration)

9. [Zone 2 Configuration](10-configuration-system.md#9-zone-2-configuration)

9. [Client 1 Configuration](10-configuration-system.md#9-client-1-configuration)

9. [Client 1 MQTT Configuration](10-configuration-system.md#9-client-1-mqtt-configuration)

9. [Client 1 KNX Configuration](10-configuration-system.md#9-client-1-knx-configuration)

9. [Client 2 Configuration](10-configuration-system.md#9-client-2-configuration)

9. [Radio Station 1](10-configuration-system.md#9-radio-station-1)

9. [Radio Station 2](10-configuration-system.md#9-radio-station-2)

9. [Radio Station 3](10-configuration-system.md#9-radio-station-3)


10. [API Specification](11-api-specification.md#10-api-specification)

- [10.1 API Design Philosophy](11-api-specification.md#101-api-design-philosophy)
- [10.2 Authentication and Authorization](11-api-specification.md#102-authentication-and-authorization)
- [10.3 Server Configuration](11-api-specification.md#103-server-configuration)
- [10.4 API Structure (`/api/v1/`)](11-api-specification.md#104-api-structure-apiv1)
- [10.4.1 System Endpoints](11-api-specification.md#1041-system-endpoints)
- [10.4.1.1 **Health Endpoints:**](11-api-specification.md#10411-health-endpoints)
- [10.4.2 Zone Endpoints](11-api-specification.md#1042-zone-endpoints)
- [10.4.3 Client Endpoints](11-api-specification.md#1043-client-endpoints)
- [10.4.4 Media Management Endpoints](11-api-specification.md#1044-media-management-endpoints)
- [10.4.5 Cover Art Endpoints](11-api-specification.md#1045-cover-art-endpoints)
- [10.5 Request and Response Format](11-api-specification.md#105-request-and-response-format)
- [10.5.1 Modern Direct Response Design](11-api-specification.md#1051-modern-direct-response-design)
- [10.5.2 Legacy Response Wrapper (Deprecated)](11-api-specification.md#1052-legacy-response-wrapper-deprecated)
- [10.6 HTTP Status Codes](11-api-specification.md#106-http-status-codes)
- [10.7 Pagination, Filtering, and Sorting](11-api-specification.md#107-pagination-filtering-and-sorting)
- [10.8 Webhooks and Event Streams (Optional / Future)](11-api-specification.md#108-webhooks-and-event-streams-optional-future)
- [10.9 HATEOAS Links (Optional)](11-api-specification.md#109-hateoas-links-optional)
- [10.10 API Implementation Notes](11-api-specification.md#1010-api-implementation-notes)
- [10.11 API Versioning](11-api-specification.md#1011-api-versioning)
- [10.12 API Documentation (Swagger/OpenAPI)](11-api-specification.md#1012-api-documentation-swaggeropenapi)

11. [SignalR Real-Time Communication](11a-signalr.md#11-signalr-real-time-communication)

- [11.1 ✅ Implementation Status: FULLY IMPLEMENTED](11a-signalr.md#111-implementation-status-fully-implemented)
- [11.2 SignalR Design Philosophy](11a-signalr.md#112-signalr-design-philosophy)
- [11.3 Connection and Hub Methods](11a-signalr.md#113-connection-and-hub-methods)
- [11.3.1 Hub Methods (Client-to-Server)](11a-signalr.md#1131-hub-methods-client-to-server)
- [11.3.2 JavaScript Connection Example](11a-signalr.md#1132-javascript-connection-example)
- [11.4 Event Categories](11a-signalr.md#114-event-categories)
- [11.4.1 Zone Events](11a-signalr.md#1141-zone-events)
- [11.4.2 Client Events](11a-signalr.md#1142-client-events)
- [11.4.3 System Events](11a-signalr.md#1143-system-events)
- [11.5 SignalR Event Specification](11a-signalr.md#115-signalr-event-specification)
- [11.5.1 Zone Events](11a-signalr.md#1151-zone-events)
- [11.5.2 Client Events](11a-signalr.md#1152-client-events)
- [11.5.3 System Events](11a-signalr.md#1153-system-events)
- [11.6 Event Exclusions](11a-signalr.md#116-event-exclusions)
- [11.6.1 Static Configuration Data](11a-signalr.md#1161-static-configuration-data)
- [11.6.2 Bulk Data Collections](11a-signalr.md#1162-bulk-data-collections)
- [11.6.3 Alternative Notification Paths](11a-signalr.md#1163-alternative-notification-paths)
- [11.6.4 Media Browsing Data](11a-signalr.md#1164-media-browsing-data)
- [11.7 Implementation Architecture](11a-signalr.md#117-implementation-architecture)
- [11.7.1 Hub Structure](11a-signalr.md#1171-hub-structure)
- [11.7.2 Event Broadcasting](11a-signalr.md#1172-event-broadcasting)
- [11.7.3 Notification Integration](11a-signalr.md#1173-notification-integration)
- [11.8 Client Implementation Examples](11a-signalr.md#118-client-implementation-examples)
- [11.8.1 JavaScript/TypeScript](11a-signalr.md#1181-javascripttypescript)
- [11.8.2 C# Client](11a-signalr.md#1182-c-client)
- [11.9 Performance Considerations](11a-signalr.md#119-performance-considerations)
- [11.9.1 Event Frequency](11a-signalr.md#1191-event-frequency)
- [11.9.2 Bandwidth Optimization](11a-signalr.md#1192-bandwidth-optimization)
- [11.9.3 Connection Management](11a-signalr.md#1193-connection-management)
- [11.10 Error Handling](11a-signalr.md#1110-error-handling)
- [11.10.1 Connection Errors](11a-signalr.md#11101-connection-errors)
- [11.10.2 Event Delivery](11a-signalr.md#11102-event-delivery)
- [11.11 Future Enhancements](11a-signalr.md#1111-future-enhancements)
- [11.11.1 Selective Subscriptions](11a-signalr.md#11111-selective-subscriptions)
- [11.11.2 Event History](11a-signalr.md#11112-event-history)
- [11.11.3 Bidirectional Commands](11a-signalr.md#11113-bidirectional-commands)

12. [Infrastructure Services Implementation](12-infrastructure-services-implementation.md#12-infrastructure-services-implementation)

- [12.1 Snapcast Integration (`/Infrastructure/Snapcast/`)](12-infrastructure-services-implementation.md#121-snapcast-integration-infrastructuresnapcast)
- [12.1.1 Architecture Overview](12-infrastructure-services-implementation.md#1211-architecture-overview)
- [12.1.2 `CustomSnapcastService`](12-infrastructure-services-implementation.md#1212-customsnapcastservice)
- [12.1.3 `SnapcastJsonRpcClient`](12-infrastructure-services-implementation.md#1213-snapcastjsonrpcclient)
- [12.1.4 Client MAC Address Mapping System](12-infrastructure-services-implementation.md#1214-client-mac-address-mapping-system)
- [12.1.5 Protocol Implementation](12-infrastructure-services-implementation.md#1215-protocol-implementation)
- [12.1.6 `SnapcastStateRepository`](12-infrastructure-services-implementation.md#1216-snapcaststaterepository)
- [12.1.7 Integration Points](12-infrastructure-services-implementation.md#1217-integration-points)
- [12.2 KNX Integration (`/Infrastructure/Knx/KnxService.cs`)](12-infrastructure-services-implementation.md#122-knx-integration-infrastructureknxknxservicecs)
- [12.3 MQTT Integration (`/Infrastructure/Mqtt/MqttService.cs`)](12-infrastructure-services-implementation.md#123-mqtt-integration-infrastructuremqttmqttservicecs)
- [12.4 Subsonic Integration (`/Infrastructure/Subsonic/SubsonicService.cs`)](12-infrastructure-services-implementation.md#124-subsonic-integration-infrastructuresubsonicsubsonicservicecs)
- [12.5 Media Playback (`/Infrastructure/Audio/MediaPlayerService.cs`)](12-infrastructure-services-implementation.md#125-media-playback-infrastructureaudiomediaplayerservicecs)
- [12.5.1 Streamlined Audio Configuration Integration](12-infrastructure-services-implementation.md#1251-streamlined-audio-configuration-integration)

13. [Metrics and Telemetry Infrastructure Layer](13-metrics-and-telemetry-infrastructure-layer.md#13-metrics-and-telemetry-infrastructure-layer)

- [13.1 Architecture Overview](13-metrics-and-telemetry-infrastructure-layer.md#131-architecture-overview)
- [13.2 Metrics Categories](13-metrics-and-telemetry-infrastructure-layer.md#132-metrics-categories)
- [13.2.1 Business Metrics (Real-time)](13-metrics-and-telemetry-infrastructure-layer.md#1321-business-metrics-real-time)
- [13.2.2 System Metrics (Real-time)](13-metrics-and-telemetry-infrastructure-layer.md#1322-system-metrics-real-time)
- [13.2.3 HTTP Metrics (Per-request)](13-metrics-and-telemetry-infrastructure-layer.md#1323-http-metrics-per-request)
- [13.2.4 Command/Query Metrics (Per-operation)](13-metrics-and-telemetry-infrastructure-layer.md#1324-commandquery-metrics-per-operation)
- [13.2.5 Zone Grouping Metrics (Per-operation)](13-metrics-and-telemetry-infrastructure-layer.md#1325-zone-grouping-metrics-per-operation)
- [13.2.6 Error Tracking (Per-error)](13-metrics-and-telemetry-infrastructure-layer.md#1326-error-tracking-per-error)
- [13.3 Implementation Details](13-metrics-and-telemetry-infrastructure-layer.md#133-implementation-details)
- [13.3.1 Service Registration (Program.cs)](13-metrics-and-telemetry-infrastructure-layer.md#1331-service-registration-programcs)
- [13.3.2 OpenTelemetry Configuration](13-metrics-and-telemetry-infrastructure-layer.md#1332-opentelemetry-configuration)
- [13.3.3 Docker Compose Integration](13-metrics-and-telemetry-infrastructure-layer.md#1333-docker-compose-integration)
- [13.4 Grafana Dashboard Access](13-metrics-and-telemetry-infrastructure-layer.md#134-grafana-dashboard-access)
- [13.5 Metrics Collection Patterns](13-metrics-and-telemetry-infrastructure-layer.md#135-metrics-collection-patterns)
- [13.5.1 Automatic Collection](13-metrics-and-telemetry-infrastructure-layer.md#1351-automatic-collection)
- [13.5.2 Event-Driven Collection](13-metrics-and-telemetry-infrastructure-layer.md#1352-event-driven-collection)
- [13.6 Performance Characteristics](13-metrics-and-telemetry-infrastructure-layer.md#136-performance-characteristics)
- [13.6.1 Collection Overhead](13-metrics-and-telemetry-infrastructure-layer.md#1361-collection-overhead)
- [13.6.2 Storage Requirements](13-metrics-and-telemetry-infrastructure-layer.md#1362-storage-requirements)
- [13.7 Monitoring and Alerting](13-metrics-and-telemetry-infrastructure-layer.md#137-monitoring-and-alerting)
- [13.7.1 Key Performance Indicators (KPIs)](13-metrics-and-telemetry-infrastructure-layer.md#1371-key-performance-indicators-kpis)
- [13.7.2 Recommended Alerts](13-metrics-and-telemetry-infrastructure-layer.md#1372-recommended-alerts)
- [13.8 Development and Production](13-metrics-and-telemetry-infrastructure-layer.md#138-development-and-production)
- [13.8.1 Development Environment](13-metrics-and-telemetry-infrastructure-layer.md#1381-development-environment)
- [13.8.2 Production Considerations](13-metrics-and-telemetry-infrastructure-layer.md#1382-production-considerations)
- [13.9 Future Enhancements](13-metrics-and-telemetry-infrastructure-layer.md#139-future-enhancements)
- [13.9.1 Planned Features](13-metrics-and-telemetry-infrastructure-layer.md#1391-planned-features)
- [13.9.2 Integration Opportunities](13-metrics-and-telemetry-infrastructure-layer.md#1392-integration-opportunities)

14. [Zone-to-Client Mapping Strategy (Server Layer)](14-zone-to-client-mapping-strategy-server-layer.md#14-zone-to-client-mapping-strategy-server-layer)

- [14.1 Overview](14-zone-to-client-mapping-strategy-server-layer.md#141-overview)
- [14.2 Core Principles](14-zone-to-client-mapping-strategy-server-layer.md#142-core-principles)
- [14.3 Implementation (`ZoneManager`, `ClientManager`, `SnapcastService`)](14-zone-to-client-mapping-strategy-server-layer.md#143-implementation-zonemanager-clientmanager-snapcastservice)
- [14.3.1 `ZoneManager` (/Server/Managers/ZoneManager.cs)](14-zone-to-client-mapping-strategy-server-layer.md#1431-zonemanager-servermanagerszonemanagercs)
- [14.3.2 `ClientManager` (/Server/Managers/ClientManager.cs)](14-zone-to-client-mapping-strategy-server-layer.md#1432-clientmanager-servermanagersclientmanagercs)
- [14.3.3 `SnapcastService` (/Infrastructure/Snapcast/SnapcastService.cs)](14-zone-to-client-mapping-strategy-server-layer.md#1433-snapcastservice-infrastructuresnapcastsnapcastservicecs)
- [14.4 Cortex.Mediator Notifications for Synchronization](14-zone-to-client-mapping-strategy-server-layer.md#144-cortexmediator-notifications-for-synchronization)
- [14.5 Data Contracts (`ClientState`, `ZoneState`)](14-zone-to-client-mapping-strategy-server-layer.md#145-data-contracts-clientstate-zonestate)
- [14.6 Registration in DI Container](14-zone-to-client-mapping-strategy-server-layer.md#146-registration-in-di-container)

15. [Command Framework](15-command-framework.md#15-command-framework)

- [15.1 Overview of Command Structure](15-command-framework.md#151-overview-of-command-structure)
- [15.2 Global Commands and Status](15-command-framework.md#152-global-commands-and-status)
- [15.2.1 Global Functionality (Status Only)](15-command-framework.md#1521-global-functionality-status-only)
- [15.2.2 Global MQTT Implementation](15-command-framework.md#1522-global-mqtt-implementation)
- [15.2.3 Global MQTT Last Will and Testament (LWT)](15-command-framework.md#1523-global-mqtt-last-will-and-testament-lwt)
- [15.3 Zone Commands and Status](15-command-framework.md#153-zone-commands-and-status)
- [15.3.1 Zone Functionality](15-command-framework.md#1531-zone-functionality)
- [15.3.2 Zone MQTT Implementation](15-command-framework.md#1532-zone-mqtt-implementation)
- [15.3.2.1 Zone Command Topics](15-command-framework.md#15321-zone-command-topics)
- [15.3.2.2 Zone Status Topics (Read-Only)](15-command-framework.md#15322-zone-status-topics-read-only)
- [15.3.2.3 System-Level Topics (Discovery & Global Status)](15-command-framework.md#15323-system-level-topics-discovery-global-status)
- [15.3.2.4 Payloads for `{zoneBaseTopic}control/set`](15-command-framework.md#15324-payloads-for-zonebasetopiccontrolset)
- [15.3.2.5 Standardized Payload Patterns](15-command-framework.md#15325-standardized-payload-patterns)
- [15.3.2.6 Status Values for `{zoneBaseTopic}control`](15-command-framework.md#15326-status-values-for-zonebasetopiccontrol)
- [15.3.3 Zone KNX Implementation](15-command-framework.md#1533-zone-knx-implementation)
- [15.3.3.1 KNX Zone Command Group Addresses](15-command-framework.md#15331-knx-zone-command-group-addresses)
- [15.3.3.2 KNX Zone Status Group Addresses](15-command-framework.md#15332-knx-zone-status-group-addresses)
- [15.4 Client Commands and Status](15-command-framework.md#154-client-commands-and-status)
- [15.4.1 Client Functionality](15-command-framework.md#1541-client-functionality)
- [15.4.2 Client MQTT Implementation](15-command-framework.md#1542-client-mqtt-implementation)
- [15.4.2.1 Client Command Topics (`/set`)](15-command-framework.md#15421-client-command-topics-set)
- [15.4.2.2 Client Status Topics (Read-Only)](15-command-framework.md#15422-client-status-topics-read-only)
- [15.4.3 Client KNX Implementation](15-command-framework.md#1543-client-knx-implementation)
- [15.4.3.1 KNX Client Command Group Addresses](15-command-framework.md#15431-knx-client-command-group-addresses)
- [15.4.3.2 KNX Client Status Group Addresses](15-command-framework.md#15432-knx-client-status-group-addresses)
- [15.5 Zone and Client State Objects (JSON Examples)](15-command-framework.md#155-zone-and-client-state-objects-json-examples)
- [15.5.1 Complete Zone State (JSON)](15-command-framework.md#1551-complete-zone-state-json)
- [15.5.2 Complete Client State (JSON)](15-command-framework.md#1552-complete-client-state-json)

16. [MQTT Integration](15a-mqtt-topic-oversight.md#16-mqtt-integration)

- [16.1 Topic Structure](15a-mqtt-topic-oversight.md#161-topic-structure)
- [16.2 Status Id & Command Id Mapping](15a-mqtt-topic-oversight.md#162-status-id-command-id-mapping)
- [16.2.1 System Level](15a-mqtt-topic-oversight.md#1621-system-level)
- [16.2.2 Zone Level](15a-mqtt-topic-oversight.md#1622-zone-level)
- [16.2.3 Client Level](15a-mqtt-topic-oversight.md#1623-client-level)

17. [b. Command Framework Consistency Framework](15b-consistency-framework.md#17-b-command-framework-consistency-framework)

- [17.1 b.1. Overview](15b-consistency-framework.md#171-b1-overview)
- [17.1.1 b.1.1. Problem Statement](15b-consistency-framework.md#1711-b11-problem-statement)
- [17.1.2 b.1.2. Design Principles](15b-consistency-framework.md#1712-b12-design-principles)
- [17.2 b.2. Architecture](15b-consistency-framework.md#172-b2-architecture)
- [17.2.1 b.2.1. Validation Layers](15b-consistency-framework.md#1721-b21-validation-layers)
- [17.2.2 b.2.2. Test-Based Validation Strategy](15b-consistency-framework.md#1722-b22-test-based-validation-strategy)
- [17.3 b.3. Consistency Test Categories](15b-consistency-framework.md#173-b3-consistency-test-categories)
- [17.3.1 b.3.1. Core Registry Tests](15b-consistency-framework.md#1731-b31-core-registry-tests)
- [17.3.2 b.3.2. Protocol Implementation Tests](15b-consistency-framework.md#1732-b32-protocol-implementation-tests)
- [17.3.2.1 b.3.2.1. API Protocol Tests](15b-consistency-framework.md#17321-b321-api-protocol-tests)
- [17.3.2.2 b.3.2.2. MQTT Protocol Tests](15b-consistency-framework.md#17322-b322-mqtt-protocol-tests)
- [17.3.2.3 b.3.2.3. KNX Protocol Tests](15b-consistency-framework.md#17323-b323-knx-protocol-tests)
- [17.3.3 b.3.3. Cross-Protocol Consistency Tests](15b-consistency-framework.md#1733-b33-cross-protocol-consistency-tests)
- [17.4 b.4. Implementation Strategy](15b-consistency-framework.md#174-b4-implementation-strategy)
- [17.4.1 b.4.1. Test Organization](15b-consistency-framework.md#1741-b41-test-organization)
- [17.4.2 b.4.2. Test Execution Strategy](15b-consistency-framework.md#1742-b42-test-execution-strategy)
- [17.4.2.1 b.4.2.1. Local Development](15b-consistency-framework.md#17421-b421-local-development)
- [17.4.2.2 b.4.2.2. CI/CD Integration](15b-consistency-framework.md#17422-b422-cicd-integration)
- [17.4.3 b.4.3. Error Reporting Strategy](15b-consistency-framework.md#1743-b43-error-reporting-strategy)
- [17.4.3.1 b.4.3.1. Test Failure Messages](15b-consistency-framework.md#17431-b431-test-failure-messages)
- [17.4.3.2 b.4.3.2. Implementation Suggestions](15b-consistency-framework.md#17432-b432-implementation-suggestions)
- [17.4.4 b.4.4. Tolerance for New Features](15b-consistency-framework.md#1744-b44-tolerance-for-new-features)
- [17.5 b.5. Reporting and Metrics](15b-consistency-framework.md#175-b5-reporting-and-metrics)
- [17.5.1 b.5.1. Consistency Metrics](15b-consistency-framework.md#1751-b51-consistency-metrics)
- [17.5.2 b.5.2. Report Generation](15b-consistency-framework.md#1752-b52-report-generation)
- [17.5.2.1 b.5.2.1. Console Output](15b-consistency-framework.md#17521-b521-console-output)
- [17.5.2.2 b.5.2.2. Markdown Report Generation](15b-consistency-framework.md#17522-b522-markdown-report-generation)
- [17.5.3 b.5.3. Integration with Implementation Status Document](15b-consistency-framework.md#1753-b53-integration-with-implementation-status-document)
- [17.6 b.6. Maintenance and Evolution](15b-consistency-framework.md#176-b6-maintenance-and-evolution)
- [17.6.1 b.6.1. Adding New Commands/Status](15b-consistency-framework.md#1761-b61-adding-new-commandsstatus)
- [17.6.2 b.6.2. Protocol Evolution](15b-consistency-framework.md#1762-b62-protocol-evolution)
- [17.6.3 b.6.3. Continuous Improvement](15b-consistency-framework.md#1763-b63-continuous-improvement)
- [17.7 b.7. Benefits and ROI](15b-consistency-framework.md#177-b7-benefits-and-roi)
- [17.7.1 b.7.1. Immediate Benefits](15b-consistency-framework.md#1771-b71-immediate-benefits)
- [17.7.2 b.7.2. Long-term Benefits](15b-consistency-framework.md#1772-b72-long-term-benefits)
- [17.7.3 b.7.3. Risk Mitigation](15b-consistency-framework.md#1773-b73-risk-mitigation)

18. [Cortex.Mediator Implementation (Server Layer)](16-mediator-implementation-server-layer.md#18-cortexmediator-implementation-server-layer)

- [18.1 Cortex.Mediator Integration and Configuration](16-mediator-implementation-server-layer.md#181-cortexmediator-integration-and-configuration)
- [18.2 Command, Query, and Notification Structure](16-mediator-implementation-server-layer.md#182-command-query-and-notification-structure)
- [18.2.1 Command Example](16-mediator-implementation-server-layer.md#1821-command-example)
- [18.2.2 Query Example](16-mediator-implementation-server-layer.md#1822-query-example)
- [18.2.3 Notification Example](16-mediator-implementation-server-layer.md#1823-notification-example)
- [18.3 Command Validation with FluentValidation](16-mediator-implementation-server-layer.md#183-command-validation-with-fluentvalidation)
- [18.4 Pipeline Behaviors (`/Server/Behaviors`)](16-mediator-implementation-server-layer.md#184-pipeline-behaviors-serverbehaviors)
- [18.4.1 Logging Behavior](16-mediator-implementation-server-layer.md#1841-logging-behavior)
- [18.4.2 Validation Behavior](16-mediator-implementation-server-layer.md#1842-validation-behavior)
- [18.4.3 Performance Behavior](16-mediator-implementation-server-layer.md#1843-performance-behavior)
- [18.5 Communication Layer Integration](16-mediator-implementation-server-layer.md#185-communication-layer-integration)
- [18.6 Status Update Mechanism](16-mediator-implementation-server-layer.md#186-status-update-mechanism)

19. [Cortex.Mediator Command Framework Implementation](16a-cortex-mediator-command-implementation.md#19-cortexmediator-command-framework-implementation)

- [19.1 Implementation Overview](16a-cortex-mediator-command-implementation.md#191-implementation-overview)
- [19.2 Project Structure](16a-cortex-mediator-command-implementation.md#192-project-structure)
- [19.3 Base Interfaces and Common Types](16a-cortex-mediator-command-implementation.md#193-base-interfaces-and-common-types)
- [19.3.1 Command Result Types](16a-cortex-mediator-command-implementation.md#1931-command-result-types)
- [19.3.2 Common Enums](16a-cortex-mediator-command-implementation.md#1932-common-enums)
- [19.4 Global Commands and Queries](16a-cortex-mediator-command-implementation.md#194-global-commands-and-queries)
- [19.4.1 Global Status Queries](16a-cortex-mediator-command-implementation.md#1941-global-status-queries)
- [19.4.2 Global Query Handlers](16a-cortex-mediator-command-implementation.md#1942-global-query-handlers)
- [19.5 Zone Commands](16a-cortex-mediator-command-implementation.md#195-zone-commands)
- [19.5.1 Playback Control Commands](16a-cortex-mediator-command-implementation.md#1951-playback-control-commands)
- [19.6 Status Notifications](16a-cortex-mediator-command-implementation.md#196-status-notifications)
- [19.6.1 Global Status Notifications](16a-cortex-mediator-command-implementation.md#1961-global-status-notifications)
- [19.7 Command Validators](16a-cortex-mediator-command-implementation.md#197-command-validators)
- [19.7.1 Zone Command Validators](16a-cortex-mediator-command-implementation.md#1971-zone-command-validators)

20. [Zone Commands Implementation](16b-zone-commands-implementation.md#20-zone-commands-implementation)

- [20.1 Volume and Mute Commands](16b-zone-commands-implementation.md#201-volume-and-mute-commands)
- [20.2 Track Management Commands](16b-zone-commands-implementation.md#202-track-management-commands)
- [20.3 Playlist Management Commands](16b-zone-commands-implementation.md#203-playlist-management-commands)
- [20.4 Zone Command Validators](16b-zone-commands-implementation.md#204-zone-command-validators)
- [20.5 Zone Command Handlers](16b-zone-commands-implementation.md#205-zone-command-handlers)

21. [Client Commands Implementation](16c-client-commands-implementation.md#21-client-commands-implementation)

- [21.1 Client Volume and Mute Commands](16c-client-commands-implementation.md#211-client-volume-and-mute-commands)
- [21.2 Client Configuration Commands](16c-client-commands-implementation.md#212-client-configuration-commands)
- [21.3 Client Command Validators](16c-client-commands-implementation.md#213-client-command-validators)
- [21.4 Client Command Handlers](16c-client-commands-implementation.md#214-client-command-handlers)
- [21.5 Client Queries](16c-client-commands-implementation.md#215-client-queries)
- [21.6 Client Query Handlers](16c-client-commands-implementation.md#216-client-query-handlers)

22. [Zone Queries and Status Notifications](16d-queries-and-notifications.md#22-zone-queries-and-status-notifications)

- [22.1 Zone Queries](16d-queries-and-notifications.md#221-zone-queries)
- [22.2 Zone Query Handlers](16d-queries-and-notifications.md#222-zone-query-handlers)
- [22.3 Status Notifications](16d-queries-and-notifications.md#223-status-notifications)
- [22.3.1 Zone Status Notifications](16d-queries-and-notifications.md#2231-zone-status-notifications)
- [22.3.2 Client Status Notifications](16d-queries-and-notifications.md#2232-client-status-notifications)
- [22.4 Generic Status Changed Notification](16d-queries-and-notifications.md#224-generic-status-changed-notification)
- [22.5 Notification Handlers Example](16d-queries-and-notifications.md#225-notification-handlers-example)

23. [Integration and Implementation Summary](16e-integration-and-summary.md#23-integration-and-implementation-summary)

- [23.1 Infrastructure Adapter Integration](16e-integration-and-summary.md#231-infrastructure-adapter-integration)
- [23.1.1 MQTT Service Integration](16e-integration-and-summary.md#2311-mqtt-service-integration)
- [23.1.2 KNX Service Integration](16e-integration-and-summary.md#2312-knx-service-integration)
- [23.1.3 API Controller Integration](16e-integration-and-summary.md#2313-api-controller-integration)
- [23.2 Dependency Injection Configuration](16e-integration-and-summary.md#232-dependency-injection-configuration)
- [23.3 Testing Strategy](16e-integration-and-summary.md#233-testing-strategy)
- [23.3.1 Unit Tests for Commands and Handlers](16e-integration-and-summary.md#2331-unit-tests-for-commands-and-handlers)
- [23.3.2 Integration Tests](16e-integration-and-summary.md#2332-integration-tests)
- [23.4 Overview](16e-integration-and-summary.md#234-overview)
- [23.4.1 Key Benefits](16e-integration-and-summary.md#2341-key-benefits)
- [23.4.2 Implementation Plan](16e-integration-and-summary.md#2342-implementation-plan)

24. [Command-Status Flow Pattern -- Updating State Values](17-command-status-flow.md#24-command-status-flow-pattern-updating-state-values)

- [24.1 Overview](17-command-status-flow.md#241-overview)
- [24.2 Pattern Definition](17-command-status-flow.md#242-pattern-definition)
- [24.2.1 Core Flow](17-command-status-flow.md#2421-core-flow)
- [24.2.2 Detailed Breakdown](17-command-status-flow.md#2422-detailed-breakdown)
- [24.2.2.1 Command (Input Layer)](17-command-status-flow.md#24221-command-input-layer)
- [24.2.2.2 Service Action (Command Processing)](17-command-status-flow.md#24222-service-action-command-processing)
- [24.2.2.3 External System (State Authority)](17-command-status-flow.md#24223-external-system-state-authority)
- [24.2.2.4 Notification (Event Layer)](17-command-status-flow.md#24224-notification-event-layer)
- [24.2.2.5 Storage Update (State Synchronization)](17-command-status-flow.md#24225-storage-update-state-synchronization)
- [24.2.2.6 Integration Publishing (Output Layer)](17-command-status-flow.md#24226-integration-publishing-output-layer)
- [24.3 Architectural Benefits](17-command-status-flow.md#243-architectural-benefits)
- [24.3.1 Single Source of Truth](17-command-status-flow.md#2431-single-source-of-truth)
- [24.3.2 Eventually Consistent](17-command-status-flow.md#2432-eventually-consistent)
- [24.3.3 Decoupled Architecture](17-command-status-flow.md#2433-decoupled-architecture)
- [24.3.4 Error Resilience](17-command-status-flow.md#2434-error-resilience)
- [24.4 Implementation Examples](17-command-status-flow.md#244-implementation-examples)
- [24.4.1 Example 1: Snapcast Server Integration](17-command-status-flow.md#2441-example-1-snapcast-server-integration)
- [24.4.1.1 Scenario: User sets client volume via API](17-command-status-flow.md#24411-scenario-user-sets-client-volume-via-api)
- [24.4.1.2 Code Implementation](17-command-status-flow.md#24412-code-implementation)
- [24.4.1.3 Edge Cases Handled](17-command-status-flow.md#24413-edge-cases-handled)
- [24.4.2 Example 2: LibVLC Integration](17-command-status-flow.md#2442-example-2-libvlc-integration)
- [24.4.2.1 Scenario: Zone playback control via KNX](17-command-status-flow.md#24421-scenario-zone-playback-control-via-knx)
- [24.4.2.2 Code Implementation](17-command-status-flow.md#24422-code-implementation)
- [24.4.2.3 Complex Scenario: Track Change with Metadata](17-command-status-flow.md#24423-complex-scenario-track-change-with-metadata)
- [24.5 Pattern Variations](17-command-status-flow.md#245-pattern-variations)
- [24.5.1 Immediate Response Pattern](17-command-status-flow.md#2451-immediate-response-pattern)
- [24.5.2 Batch Operation Pattern](17-command-status-flow.md#2452-batch-operation-pattern)
- [24.5.3 Compensation Pattern](17-command-status-flow.md#2453-compensation-pattern)
- [24.6 Testing Strategies](17-command-status-flow.md#246-testing-strategies)
- [24.6.1 Unit Testing Commands](17-command-status-flow.md#2461-unit-testing-commands)
- [24.6.2 Integration Testing Flow](17-command-status-flow.md#2462-integration-testing-flow)
- [24.6.3 End-to-End Testing](17-command-status-flow.md#2463-end-to-end-testing)
- [24.7 Migration Strategy](17-command-status-flow.md#247-migration-strategy)
- [24.7.1 Phase 1: Identify Command Handlers](17-command-status-flow.md#2471-phase-1-identify-command-handlers)
- [24.7.2 Phase 2: Implement Event Handlers](17-command-status-flow.md#2472-phase-2-implement-event-handlers)
- [24.7.3 Phase 3: Refactor Command Handlers](17-command-status-flow.md#2473-phase-3-refactor-command-handlers)
- [24.7.4 Phase 4: Validation and Cleanup](17-command-status-flow.md#2474-phase-4-validation-and-cleanup)
- [24.8 Monitoring and Observability](17-command-status-flow.md#248-monitoring-and-observability)
- [24.8.1 Key Metrics](17-command-status-flow.md#2481-key-metrics)
- [24.8.2 Logging Strategy](17-command-status-flow.md#2482-logging-strategy)
- [24.8.3 Health Checks](17-command-status-flow.md#2483-health-checks)
- [24.9 Conclusion](17-command-status-flow.md#249-conclusion)

25. [SnapDog2 Web UI — Separate Services + AI-Optimized Stack (v2)](17a-webgui.md#25-snapdog2-web-ui-separate-services-ai-optimized-stack-v2)

- [25.1 Scope & Principles](17a-webgui.md#251-scope-principles)
- [25.2 High-Level Architecture](17a-webgui.md#252-high-level-architecture)
- [25.3 Interaction Model](17a-webgui.md#253-interaction-model)
- [25.4 Public Contracts](17a-webgui.md#254-public-contracts)
- [25.4.1 Current SignalR Implementation](17a-webgui.md#2541-current-signalr-implementation)
- [25.4.2 Required SignalR Handler Implementation](17a-webgui.md#2542-required-signalr-handler-implementation)
- [25.4.3 Explicit REST Endpoints (UI calls only these)](17a-webgui.md#2543-explicit-rest-endpoints-ui-calls-only-these)
- [25.5 Server Implementation (C#)](17a-webgui.md#255-server-implementation-c)
- [25.5.1 Current Hub Implementation](17a-webgui.md#2551-current-hub-implementation)
- [25.5.2 SignalR Notification Handlers](17a-webgui.md#2552-signalr-notification-handlers)
- [25.5.3 Current Program.cs Configuration](17a-webgui.md#2553-current-programcs-configuration)
- [25.6 Frontend Implementation (React + TypeScript)](17a-webgui.md#256-frontend-implementation-react-typescript)
- [25.6.1 Project Layout (AI-Optimized)](17a-webgui.md#2561-project-layout-ai-optimized)
- [25.6.2 SignalR Hook (React Pattern)](17a-webgui.md#2562-signalr-hook-react-pattern)
- [25.6.3 API Service (Explicit REST)](17a-webgui.md#2563-api-service-explicit-rest)
- [25.6.4 State Management (Zustand)](17a-webgui.md#2564-state-management-zustand)
- [25.6.5 React Components (Enterprise-Grade)](17a-webgui.md#2565-react-components-enterprise-grade)
- [25.7 Container Setup](17a-webgui.md#257-container-setup)
- [25.7.1 Frontend Dockerfile](17a-webgui.md#2571-frontend-dockerfile)
- [25.7.2 Development Docker Compose](17a-webgui.md#2572-development-docker-compose)
- [25.7.3 Production Docker Compose](17a-webgui.md#2573-production-docker-compose)
- [25.8 Development & Build Commands](17a-webgui.md#258-development-build-commands)
- [25.8.1 Frontend Package.json](17a-webgui.md#2581-frontend-packagejson)
- [25.8.2 Vite Configuration](17a-webgui.md#2582-vite-configuration)
- [25.8.3 Development Workflow](17a-webgui.md#2583-development-workflow)
- [25.8.4 Production Build & Deploy](17a-webgui.md#2584-production-build-deploy)
- [25.9 Testing](17a-webgui.md#259-testing)
- [25.10 Performance & Reliability](17a-webgui.md#2510-performance-reliability)
- [25.11 Security & Ops](17a-webgui.md#2511-security-ops)
- [25.12 Accessibility & UX Notes](17a-webgui.md#2512-accessibility-ux-notes)
- [25.13 Rollout Plan (phased)](17a-webgui.md#2513-rollout-plan-phased)
- [25.14 Validation Checklist](17a-webgui.md#2514-validation-checklist)
- [25.14.1 Architecture Validation](17a-webgui.md#25141-architecture-validation)
- [25.14.2 Performance Validation](17a-webgui.md#25142-performance-validation)
- [25.14.3 Functionality Validation](17a-webgui.md#25143-functionality-validation)
- [25.14.4 Development Experience](17a-webgui.md#25144-development-experience)
- [25.14.5 Production Readiness](17a-webgui.md#25145-production-readiness)
- [25.15 Implementation Summary](17a-webgui.md#2515-implementation-summary)
- [25.15.1 Backend (Already Implemented ✅)](17a-webgui.md#25151-backend-already-implemented)
- [25.15.2 Frontend (To Implement)](17a-webgui.md#25152-frontend-to-implement)
- [25.15.3 Infrastructure (To Implement)](17a-webgui.md#25153-infrastructure-to-implement)
- [25.15.4 Key Files to Create](17a-webgui.md#25154-key-files-to-create)

26. [Testing Strategy](18-testing-strategy.md#26-testing-strategy)

- [26.1 Test Types and Goals](18-testing-strategy.md#261-test-types-and-goals)
- [26.2 Specific Component Testing Approaches](18-testing-strategy.md#262-specific-component-testing-approaches)
- [26.3 Specific Test Scenario Examples](18-testing-strategy.md#263-specific-test-scenario-examples)
- [26.4 Supporting Strategies](18-testing-strategy.md#264-supporting-strategies)

27. [Dependencies](20-dependencies.md#27-dependencies)

- [27.1 .NET Framework](20-dependencies.md#271-net-framework)
- [27.2 Core NuGet Packages](20-dependencies.md#272-core-nuget-packages)
- [27.2.1 Application Framework & Utilities](20-dependencies.md#2721-application-framework-utilities)
- [27.2.2 Resilience](20-dependencies.md#2722-resilience)
- [27.2.3 Logging](20-dependencies.md#2723-logging)
- [27.2.4 External System Integration](20-dependencies.md#2724-external-system-integration)
- [27.2.5 Observability (OpenTelemetry)](20-dependencies.md#2725-observability-opentelemetry)
- [27.2.6 Code Quality & Analysis](20-dependencies.md#2726-code-quality-analysis)
- [27.2.7 Testing Dependencies](20-dependencies.md#2727-testing-dependencies)
- [27.3 Centralized Package Management (`Directory.Packages.props`)](20-dependencies.md#273-centralized-package-management-directorypackagesprops)
- [27.4 Dependency Management Strategy](20-dependencies.md#274-dependency-management-strategy)
- [27.5 Native Dependencies](20-dependencies.md#275-native-dependencies)

28. [DRY Transformation Architecture](22-dry-transformation-architecture.md#28-dry-transformation-architecture)

- [28.1 Overview](22-dry-transformation-architecture.md#281-overview)
- [28.2 Architectural Principles](22-dry-transformation-architecture.md#282-architectural-principles)
- [28.2.1 Single Source of Truth](22-dry-transformation-architecture.md#2821-single-source-of-truth)
- [28.2.2 Type Safety](22-dry-transformation-architecture.md#2822-type-safety)
- [28.2.3 Blueprint Integration](22-dry-transformation-architecture.md#2823-blueprint-integration)
- [28.2.4 Automated Consistency Validation](22-dry-transformation-architecture.md#2824-automated-consistency-validation)
- [28.2.5 Developer Experience](22-dry-transformation-architecture.md#2825-developer-experience)
- [28.3 Attribute System Architecture](22-dry-transformation-architecture.md#283-attribute-system-architecture)
- [28.3.1 StatusIdAttribute](22-dry-transformation-architecture.md#2831-statusidattribute)
- [28.3.2 CommandAttribute](22-dry-transformation-architecture.md#2832-commandattribute)
- [28.4 Registry System Architecture](22-dry-transformation-architecture.md#284-registry-system-architecture)
- [28.4.1 StatusIdRegistry](22-dry-transformation-architecture.md#2841-statusidregistry)
- [28.4.2 CommandIdRegistry](22-dry-transformation-architecture.md#2842-commandidregistry)
- [28.5 Implementation Categories](22-dry-transformation-architecture.md#285-implementation-categories)
- [28.5.1 Status Notification System (Blueprint Compliant)](22-dry-transformation-architecture.md#2851-status-notification-system-blueprint-compliant)
- [28.5.1.1 Client Status Notifications (7 Classes)](22-dry-transformation-architecture.md#28511-client-status-notifications-7-classes)
- [28.5.1.2 Zone Status Notifications (6 Classes)](22-dry-transformation-architecture.md#28512-zone-status-notifications-6-classes)
- [28.5.1.3 Global Status Notifications (5 Classes)](22-dry-transformation-architecture.md#28513-global-status-notifications-5-classes)
- [28.5.1.4 Additional Status Notifications (3 Classes)](22-dry-transformation-architecture.md#28514-additional-status-notifications-3-classes)
- [28.5.2 Command System (Blueprint Compliant)](22-dry-transformation-architecture.md#2852-command-system-blueprint-compliant)
- [28.5.2.1 Client Commands (8 Classes)](22-dry-transformation-architecture.md#28521-client-commands-8-classes)
- [28.5.2.2 Zone Playback Commands (3 Classes)](22-dry-transformation-architecture.md#28522-zone-playback-commands-3-classes)
- [28.5.2.3 Zone Volume Commands (5 Classes)](22-dry-transformation-architecture.md#28523-zone-volume-commands-5-classes)
- [28.5.2.4 Zone Track Commands (6 Classes)](22-dry-transformation-architecture.md#28524-zone-track-commands-6-classes)
- [28.5.2.5 Zone Playlist Commands (7 Classes)](22-dry-transformation-architecture.md#28525-zone-playlist-commands-7-classes)
- [28.5.2.6 Additional Commands (3 Classes)](22-dry-transformation-architecture.md#28526-additional-commands-3-classes)
- [28.6 Automated Consistency Validation](22-dry-transformation-architecture.md#286-automated-consistency-validation)
- [28.6.1 Comprehensive Test Suite](22-dry-transformation-architecture.md#2861-comprehensive-test-suite)
- [28.6.1.1 Command Framework Consistency Tests](22-dry-transformation-architecture.md#28611-command-framework-consistency-tests)
- [28.6.1.2 Cross-Protocol Consistency Tests](22-dry-transformation-architecture.md#28612-cross-protocol-consistency-tests)
- [28.6.2 Reverse-Direction Testing](22-dry-transformation-architecture.md#2862-reverse-direction-testing)
- [28.6.3 Obsolete Implementation Detection](22-dry-transformation-architecture.md#2863-obsolete-implementation-detection)
- [28.6.4 Blueprint Compliance Validation](22-dry-transformation-architecture.md#2864-blueprint-compliance-validation)
- [28.7 Integration Patterns](22-dry-transformation-architecture.md#287-integration-patterns)
- [28.7.1 Notification Handler Pattern](22-dry-transformation-architecture.md#2871-notification-handler-pattern)
- [28.7.2 Command Processing Pattern](22-dry-transformation-architecture.md#2872-command-processing-pattern)
- [28.7.3 Status Factory Pattern](22-dry-transformation-architecture.md#2873-status-factory-pattern)
- [28.8 Quality Assurance and Metrics](22-dry-transformation-architecture.md#288-quality-assurance-and-metrics)
- [28.8.1 Compile-Time Validation](22-dry-transformation-architecture.md#2881-compile-time-validation)
- [28.8.2 Runtime Validation](22-dry-transformation-architecture.md#2882-runtime-validation)
- [28.8.3 Architectural Cleanup Results](22-dry-transformation-architecture.md#2883-architectural-cleanup-results)
- [28.8.4 Code Quality Metrics](22-dry-transformation-architecture.md#2884-code-quality-metrics)
- [28.8.5 Performance Characteristics](22-dry-transformation-architecture.md#2885-performance-characteristics)
- [28.9 Future Extensibility](22-dry-transformation-architecture.md#289-future-extensibility)
- [28.9.1 Adding New Notifications](22-dry-transformation-architecture.md#2891-adding-new-notifications)
- [28.9.2 Adding New Commands](22-dry-transformation-architecture.md#2892-adding-new-commands)
- [28.9.3 Automatic Integration](22-dry-transformation-architecture.md#2893-automatic-integration)
- [28.10 Conclusion](22-dry-transformation-architecture.md#2810-conclusion)
- [28.10.1 Architectural Excellence](22-dry-transformation-architecture.md#28101-architectural-excellence)
- [28.10.2 Developer Experience](22-dry-transformation-architecture.md#28102-developer-experience)
- [28.10.3 Quality Metrics](22-dry-transformation-architecture.md#28103-quality-metrics)
- [28.10.4 Architectural Impact](22-dry-transformation-architecture.md#28104-architectural-impact)

29. [a. Fluent Blueprint-as-Code](22a-fluent-blueprint-as-code.md#29-a-fluent-blueprint-as-code)

- [29.1 Overview](22a-fluent-blueprint-as-code.md#291-overview)
- [29.2 Problem](22a-fluent-blueprint-as-code.md#292-problem)
- [29.3 Solution: Fluent Blueprint DSL](22a-fluent-blueprint-as-code.md#293-solution-fluent-blueprint-dsl)
- [29.3.1 Core Example](22a-fluent-blueprint-as-code.md#2931-core-example)
- [29.4 DSL API](22a-fluent-blueprint-as-code.md#294-dsl-api)
- [29.4.1 Fluent Chain Structure](22a-fluent-blueprint-as-code.md#2941-fluent-chain-structure)
- [29.4.2 Methods](22a-fluent-blueprint-as-code.md#2942-methods)
- [29.5 Design Principles](22a-fluent-blueprint-as-code.md#295-design-principles)
- [29.5.1 Explicit Inclusion](22a-fluent-blueprint-as-code.md#2951-explicit-inclusion)
- [29.5.2 Explicit Exclusion for Clarity](22a-fluent-blueprint-as-code.md#2952-explicit-exclusion-for-clarity)
- [29.5.3 Required by Default](22a-fluent-blueprint-as-code.md#2953-required-by-default)
- [29.6 Usage in Tests](22a-fluent-blueprint-as-code.md#296-usage-in-tests)
- [29.6.1 Automatic Validation](22a-fluent-blueprint-as-code.md#2961-automatic-validation)
- [29.6.2 Query API](22a-fluent-blueprint-as-code.md#2962-query-api)
- [29.7 Benefits](22a-fluent-blueprint-as-code.md#297-benefits)
- [29.8 Benefits](22a-fluent-blueprint-as-code.md#298-benefits)
- [29.9 Implementation Strategy](22a-fluent-blueprint-as-code.md#299-implementation-strategy)
- [29.10 Future Extensions](22a-fluent-blueprint-as-code.md#2910-future-extensions)

30. [Deployment and Operations](23-deployment-and-operations.md#30-deployment-and-operations)

- [30.1 Deployment Options](23-deployment-and-operations.md#301-deployment-options)
- [30.1.1 Docker Deployment (Recommended)](23-deployment-and-operations.md#3011-docker-deployment-recommended)
- [30.1.2 Kubernetes Deployment](23-deployment-and-operations.md#3012-kubernetes-deployment)
- [30.1.3 Bare Metal / Virtual Machine Deployment](23-deployment-and-operations.md#3013-bare-metal-virtual-machine-deployment)
- [30.2 Monitoring and Observability](23-deployment-and-operations.md#302-monitoring-and-observability)
- [30.2.1 Logging](23-deployment-and-operations.md#3021-logging)
- [30.2.2 Metrics](23-deployment-and-operations.md#3022-metrics)
- [30.2.3 Distributed Tracing](23-deployment-and-operations.md#3023-distributed-tracing)
- [30.2.4 Health Checks](23-deployment-and-operations.md#3024-health-checks)
- [30.3 Operational Procedures](23-deployment-and-operations.md#303-operational-procedures)
- [30.3.1 Deployment/Update Process (Docker Compose Example)](23-deployment-and-operations.md#3031-deploymentupdate-process-docker-compose-example)
- [30.3.2 Configuration Updates](23-deployment-and-operations.md#3032-configuration-updates)
- [30.3.3 Backup and Restore](23-deployment-and-operations.md#3033-backup-and-restore)
- [30.3.4 Troubleshooting](23-deployment-and-operations.md#3034-troubleshooting)
- [30.3.5 Scaling](23-deployment-and-operations.md#3035-scaling)
- [30.4 Security Considerations](23-deployment-and-operations.md#304-security-considerations)
- [30.4.1 Network Security](23-deployment-and-operations.md#3041-network-security)
- [30.4.2 Authentication and Authorization](23-deployment-and-operations.md#3042-authentication-and-authorization)
- [30.4.3 Secrets Management](23-deployment-and-operations.md#3043-secrets-management)

31. [Docker Infrastructure](25-docker-infrastructure.md#31-docker-infrastructure)

- [31.1 Container Architecture Overview](25-docker-infrastructure.md#311-container-architecture-overview)
- [31.2 `snapserver` Container Customization](25-docker-infrastructure.md#312-snapserver-container-customization)
- [31.3 `snapdog` Container (`/docker/snapdog/Dockerfile`)](25-docker-infrastructure.md#313-snapdog-container-dockersnapdogdockerfile)
- [31.4 Docker Compose Configuration (Production Example)](25-docker-infrastructure.md#314-docker-compose-configuration-production-example)
- [31.5 Docker Compose Profiles](25-docker-infrastructure.md#315-docker-compose-profiles)
- [31.6 Environment Variables for Production](25-docker-infrastructure.md#316-environment-variables-for-production)

32. [Appendices](30-appendices.md#32-appendices)

- [32.1 Glossary](30-appendices.md#321-glossary)
- [32.2 References](30-appendices.md#322-references)
- [32.2.1 External Systems & Libraries](30-appendices.md#3221-external-systems-libraries)
- [32.2.2 .NET & Core Libraries](30-appendices.md#3222-net-core-libraries)
- [32.2.3 Analysis & Style Tools](30-appendices.md#3223-analysis-style-tools)
- [32.2.4 Design Patterns & Principles](30-appendices.md#3224-design-patterns-principles)
- [32.3 KNX DPT Value Mapping Summary](30-appendices.md#323-knx-dpt-value-mapping-summary)
- [32.4 Error Codes Reference](30-appendices.md#324-error-codes-reference)

33. [Table of Contents](index.md#33-table-of-contents)
